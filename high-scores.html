<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <!DOCTYPE html>
    <html>
      <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width,initial-scale=1" />
        <link
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous"
        />
        <title>Super Cool Code Quiz High Scores</title>
      </head>
      <body>
        <div class="container mt-5" id="high-score-container">
          <div class="row">
            <div class="col-md">
              <h1 class="text-center" id="high-score">High Scores</h1>
              <ul class="list-group font-weight-bold" id="finalScoreList"></ul>

              <a href="index.html">
                <button class="btn btn-lg btn-success">Go Back</button></a
              >
              <button id="clear-storage" class="btn btn-lg btn-success">
                Clear High Scores
              </button>
            </div>
          </div>
        </div>

        <script type="text/javascript" src="script/questions.js"></script>
        <script>
          function renderHighScores() {
            var highScoreContainer = document.getElementById("high-score");
            var storedHighScores = JSON.parse(
              localStorage.getItem("highScoreList")
            );
            console.log("list", storedHighScores);
            console.log(highScoreContainer);
            for (var i = 0; i < storedHighScores.length; i++) {
              var initial = document.createElement("li");
              initial.setAttribute(
                "class",
                "list-group-item list-group-item-success "
              );
              initial.innerHTML = storedHighScores[i].initials;
              var highScore = document.createElement("li");
              highScore.setAttribute(
                "class",
                "list-group-item list-group-item-success"
              );
              highScore.innerHTML = storedHighScores[i].score;
              var br = document.createElement("br");
              br.setAttribute(
                "class",
                "list-group-item list-group-item-success"
              );
              finalScoreList.appendChild(highScore);
              finalScoreList.appendChild(initial);
              finalScoreList.appendChild(br);
            }
          }
          renderHighScores();

          function clearHighScores() {
            var clearButton = document.querySelector("#clear-storage");
            clearButton.addEventListener("click", function() {
              localStorage.removeItem(finalScoreList);
              finalScoreList = [];
              renderHighScores();
            });
          }
        </script>
      </body>
    </html>
  </body>
</html>
